#!/bin/bash
#
# le - focus/launch stuff

# If -n is given, always create a new instance
if [[ $1 == -n ]]; then
    focus() {
        return 1
    }
    shift
fi

case $1 in
    '')
        printf '%s\n' term chat text wifi info web mail files music video volume jap
        ;;
    term|terminal)
        urxvt &
        ;;
    chat|irc)
        focus urxvt -i chat || { LANG=en_US.UTF-8 MOSH_TITLE_NOPREFIX=y urxvt -name chat -title chat -e mosh monade.li -- tmux attach -t weechat & }
        ;;
    text|editor)
        focus urxvt -n '* - vim' || { urxvt -name editor -e vim & }
        ;;
    wifi)
        focus urxvt -i wifi || { urxvt -name wifi -title wifi -geometry 50x25 -e sudo wifi-menu & }
        ;;
    info|details)
        BASH_STARTUP='details' urxvt -name info -geometry 23x19 &
        ;;
    web|browser)
        focus firefox || { firefox & }
        ;;
    mail)
        xdg-open 'https://mail.google.com/' &
        ;;
    files)
        # focus urxvt -i files || { urxvt -name files -e ranger & }
        focus thunar || { thunar & }
        ;;
    video)
        focus mpv
        ;;
    volume)
        focus pavucontrol || { pavucontrol & }
        ;;
    jap|japanese)
        pkill -x fcitx || { fcitx & }
        ;;
esac
